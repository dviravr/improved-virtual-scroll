<div class="container">
  <div class="content">
    <h1>{{ title }}</h1>

    <!-- <div class="visibility-info">
      <span class="info-label">Visible Items:</span>
      <span class="info-value"
        >{{ visibleIndices.size }} / {{ flatArray.length }}</span
      >
      <div class="visible-ids">
        @for (id of Object.keys(visibleIds); track id) {
        <span class="visible-id">{{ index }}</span>
        }
      </div>
    </div> -->

    <div class="tree-list">
      @for (node of flatArray; track node.id) { @if (node.type === 'parent') {
      <div class="tree-item parent" (click)="toggleParent(node.id)">
        <span class="toggle-icon" [class.open]="isParentOpen(node.id)">â–¶</span>
        <span class="node-id">ID: {{ node.id }}</span>
        <span class="node-name">{{ getNode(node.id)?.name }}</span>
        <span class="badge">Parent</span>
      </div>
      } @else {
      <app-tree-child [nodeId]="node.id"></app-tree-child>
      } }
    </div>
  </div>
</div>
